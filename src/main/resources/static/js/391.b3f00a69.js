"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[391,153],{343:function(a,e,l){l.r(e),l.d(e,{default:function(){return p}});var t=l(3396),s=l(7139);const i={key:0,class:"modal-container"};function o(a,e,l,o,n,r){const c=(0,t.up)("TripSelectStart"),m=(0,t.up)("TripSelectDetail");return n.overlay?((0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",{class:"overlay",onClick:e[0]||(e[0]=(...a)=>r.closeOverlay&&r.closeOverlay(...a))}),(0,t.Wm)(c,{onCloseDialog:r.closeDialog,onSubmitTrip:r.submitTrip,class:(0,s.C_)({"disabled-modal":this.startFlag})},null,8,["onCloseDialog","onSubmitTrip","class"]),(0,t.Wm)(m,{onCloseDialog:r.closeDialog,onOpenStartDialog:e[1]||(e[1]=a=>r.openStartDialog(!0)),class:(0,s.C_)({"disabled-modal":this.detailFlag})},null,8,["onCloseDialog","class"])])):(0,t.kq)("",!0)}var n=l(6565),r=l(9714),c={components:{TripSelectStart:n["default"],TripSelectDetail:r["default"]},name:"TripSelect",data(){return{overlay:!0,startFlag:!1,detailFlag:!0,name:"",email:""}},mounted(){this.emitter.on("openSelect",(a=>{this.overlay=a,this.startFlag=!a,this.detailFlag=a}))},methods:{openStartDialog(a){this.overlay=a,this.startFlag=!a,this.detailFlag=a},openDetailDialog(a){this.overlay=a,this.startFlag=a,this.detailFlag=!a},closeDialog(){this.overlay=!1},submitTrip(a){this.openDetailDialog(a)},closeOverlay(){this.closeDialog()}}},m=l(89);const u=(0,m.Z)(c,[["render",o],["__scopeId","data-v-5147d18e"]]);var p=u},6565:function(a,e,l){l.r(e),l.d(e,{default:function(){return D}});var t=l(3396),s=l(7139),i=l(7771),o=l(5101),n=l(11),r=l(1334),c=l(6422),m=l(3289),u=l(5869);const p=a=>((0,t.dD)("data-v-63be9503"),a=a(),(0,t.Cn)(),a),d={class:"modal-start"},h=p((()=>(0,t._)("div",{class:"welcome-message"},[(0,t._)("p",{class:"welcome-text"},"환영합니다"),(0,t._)("p",{class:"app-name"},[(0,t._)("span",{class:"accent-color"},"OQplanner"),(0,t.Uk)("와 함께")]),(0,t._)("p",{class:"invite-text"},"여행을 떠나시겠어요?")],-1)));function g(a,e,l,p,g,f){return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",{onClick:e[0]||(e[0]=(...a)=>f.closeDialog&&f.closeDialog(...a)),class:"close-button"},[(0,t.Wm)(m.t,null,{default:(0,t.w5)((()=>[(0,t.Uk)("mdi-close")])),_:1})]),(0,t.Wm)(n._,{class:"custom-card"},{default:(0,t.w5)((()=>[h,(0,t.Wm)(c.O,{ref:"form","lazy-validation":""},{default:(0,t.w5)((()=>[(0,t.Wm)(u.h,{label:"여행 이름",modelValue:g.tripPlanName,"onUpdate:modelValue":e[1]||(e[1]=a=>g.tripPlanName=a),placeholder:"여행 이름을 입력해 주세요.",rules:g.tripPlanNameRules,class:"name-input no-cursor"},null,8,["modelValue","rules"]),(0,t.Wm)(u.h,{label:"여행자 이름",modelValue:g.tripUserName,"onUpdate:modelValue":e[2]||(e[2]=a=>g.tripUserName=a),placeholder:"여행자 본인 이름을 입력해 주세요.",rules:g.tripUserNameRules,class:"name-input no-cursor"},null,8,["modelValue","rules"])])),_:1},512),(0,t.Wm)(r.h,{class:"button-container"},{default:(0,t.w5)((()=>[(0,t.Wm)(o.T,{onClick:f.submitCompanion,color:"black",class:"action-button"},{default:(0,t.w5)((()=>[(0,t.Uk)("동행하기")])),_:1},8,["onClick"]),(0,t.Wm)(o.T,{onClick:e[3]||(e[3]=a=>f.submitTrip(this.flag)),color:"black",class:"action-button"},{default:(0,t.w5)((()=>[(0,t.Uk)("여행하기")])),_:1})])),_:1}),(0,t.Wm)(i.w,{modelValue:g.alert,"onUpdate:modelValue":e[4]||(e[4]=a=>g.alert=a),type:"warning",class:"disabled-alert",transition:"scale-transition",closable:"",prominent:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(g.alertMessage),1)])),_:1},8,["modelValue"])])),_:1})])}var f={name:"TripSelectStart",data(){return{inputs:{},tripPlanName:"",tripUserName:"",companionName:"",flag:!0,tripPlanNameRules:[a=>!!a||"여행 이름은 필수사항 입니다.",a=>!(a&&a.length>8)||"여행 이름은 8자 이상 입력할 수 없습니다."],tripUserNameRules:[a=>!!a||"여행자 이름은 필수사항 입니다.",a=>/^[가-힣a-zA-Z\s]*$/.test(a)||"여행자 이름은 한글/영어만 입력 가능합니다.",a=>!(a&&a.length>15)||"여행자 이름은 8자 이상 입력할 수 없습니다."],companionNameRules:[a=>!!a||"동행자 이름은 필수사항 입니다.",a=>/^[가-힣a-zA-Z\s]*$/.test(a)||"동행자 이름은 한글/영어만 입력 가능합니다.",a=>!(a&&a.length>15)||"동행자 이름은 8자 이상 입력할 수 없습니다."],alertMessage:"",alert:!1}},methods:{closeDialog(){this.$emit("closeDialog")},submitCompanion(){},async submitTrip(a){await this.$refs.form.validate().then((e=>{if(e.valid){const e={tripPlannerNm:this.tripUserName,tripPlanNm:this.tripPlanName};this.$axios.get("/trip/plan/info",{params:e}).then((e=>{const l=e.data.tripPlanNo;void 0==l?(console.log("planRes",e.data.tripPlanNo),this.inputs.tripPlanName=this.tripPlanName,this.inputs.tripUserName=this.tripUserName,this.$emit("submitTrip",a),console.log(a),this.emitter.emit("submitDetail",this.inputs)):(this.alertMessage="이미 만들어진 여행 이름 입니다.",this.alert=!0)})).catch((a=>{console.error(a)}))}else console.log("validate fail")}))}}},v=l(89);const b=(0,v.Z)(f,[["render",g],["__scopeId","data-v-63be9503"]]);var D=b}}]);
//# sourceMappingURL=391.b3f00a69.js.map