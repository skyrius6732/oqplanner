"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[28],{7028:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(3396),n=a(7139),s=a(7771),i=a(5101),o=a(9752),r=a(1334),d=a(6422),c=a(9671),p=a(5869);const u=e=>((0,l.dD)("data-v-5c0b681b"),e=e(),(0,l.Cn)(),e),m={class:"modal-start"},v=u((()=>(0,l._)("div",{class:"welcome-message"},[(0,l._)("p",{class:"welcome-text"},"환영합니다"),(0,l._)("p",{class:"app-name"},[(0,l._)("span",{class:"accent-color"},"OQplanner"),(0,l.Uk)("와 함께")]),(0,l._)("p",{class:"invite-text"},"여행을 떠나시겠어요?")],-1)));function f(e,t,a,u,f,b){return(0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(o._,{class:"custom-card"},{default:(0,l.w5)((()=>[v,(0,l.Wm)(d.O,{ref:"form","lazy-validation":""},{default:(0,l.w5)((()=>[(0,l.Wm)(p.h,{label:"여행 이름",modelValue:f.tripPlanName,"onUpdate:modelValue":t[0]||(t[0]=e=>f.tripPlanName=e),placeholder:"여행 이름을 입력해 주세요.",rules:f.tripPlanNameRules,class:"name-input no-cursor"},null,8,["modelValue","rules"]),(0,l.Wm)(p.h,{label:"여행자 이름",modelValue:f.tripUserName,"onUpdate:modelValue":t[1]||(t[1]=e=>f.tripUserName=e),placeholder:"여행자 본인 이름을 입력해 주세요.",rules:f.tripUserNameRules,class:"name-input no-cursor"},null,8,["modelValue","rules"])])),_:1},512),(0,l.Wm)(c.v,{modelValue:f.snackbar,"onUpdate:modelValue":t[2]||(t[2]=e=>f.snackbar=e),timeout:"3000",class:"snackbar-center",flex:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(f.tripPlanName)+", 여행자님 이용해 주셔서 감사합니다. ",1)])),_:1},8,["modelValue"]),(0,l.Wm)(r.h,{class:"button-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(i.T,{onClick:b.submitCompanion,class:"action-button button-style"},{default:(0,l.w5)((()=>[(0,l.Uk)("같이가기")])),_:1},8,["onClick"]),(0,l.Wm)(i.T,{onClick:t[3]||(t[3]=e=>b.submitTrip(this.flag)),class:"action-button button-style"},{default:(0,l.w5)((()=>[(0,l.Uk)("여행하기")])),_:1})])),_:1}),(0,l.Wm)(s.w,{modelValue:f.alert,"onUpdate:modelValue":t[4]||(t[4]=e=>f.alert=e),class:"disabled-alert black-and-white",transition:"scale-transition",closable:"",prominent:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(f.alertMessage),1)])),_:1},8,["modelValue"])])),_:1})])}a(7658);var b={name:"TripSelectStart",mounted(){},data(){return{snackbar:!1,inputs:{},tripPlanName:"",tripUserName:"",companionName:"",flag:!0,tripPlanNameRules:[e=>!!e||"여행 이름은 필수사항 입니다.",e=>!(e&&e.length>8)||"여행 이름은 8자 이상 입력할 수 없습니다."],tripUserNameRules:[e=>!!e||"여행자 이름은 필수사항 입니다.",e=>/^[가-힣a-zA-Z\s]*$/.test(e)||"여행자 이름은 한글/영어만 입력 가능합니다.",e=>!(e&&e.length>15)||"여행자 이름은 8자 이상 입력할 수 없습니다."],companionNameRules:[e=>!!e||"동행자 이름은 필수사항 입니다.",e=>/^[가-힣a-zA-Z\s]*$/.test(e)||"동행자 이름은 한글/영어만 입력 가능합니다.",e=>!(e&&e.length>15)||"동행자 이름은 8자 이상 입력할 수 없습니다."],alertMessage:"",alert:!1}},methods:{closeDialog(){this.$emit("closeDialog")},async submitCompanion(){await this.$refs.form.validate().then((e=>{if(e.valid){const e={tripPlannerNm:this.tripUserName,tripPlanNm:this.tripPlanName,tripFlag:"oldFlag"};let t="/trip/plan/info";this.$axios.get(t,{params:e}).then((e=>{const t=e.data.tripPlanNo;void 0==t?(this.alertMessage="존재하지 않는 여행 입니다.",this.alert=!0):(this.snackbar=!0,this.$axios.get("/common/api/getSessionValue").then((e=>{console.log("success sessionResponse"),console.log(e.data);const t=e.data.projectNoSession,a=e.data.userNoSession;sessionStorage.setItem("projectNoSession",t),sessionStorage.setItem("userNoSession",a),setTimeout((()=>{this.$emit("closeDialog"),this.$router.push("/schedule"),this.$store.dispatch("login")}),3e3)})).catch((e=>{console.error(e)})).finally((()=>{console.log("this.$refs",this.$refs),setTimeout((()=>{this.emitter.emit("accompanyTrip")}),3e3)})))})).catch((e=>{console.error(e)}))}else console.log("validate fail")}))},async submitTrip(e){await this.$refs.form.validate().then((t=>{if(t.valid){const t={tripPlannerNm:this.tripUserName,tripPlanNm:this.tripPlanName,tripFlag:"newFlag"};this.$axios.get("/trip/plan/info",{params:t}).then((t=>{const a=t.data.tripPlanNo;void 0==a?(console.log("planRes",t.data.tripPlanNo),this.inputs.tripPlanName=this.tripPlanName,this.inputs.tripUserName=this.tripUserName,this.$emit("submitTrip",e),console.log(e),this.emitter.emit("submitDetail",this.inputs)):(this.alertMessage="이미 생성된 여행 입니다.",this.alert=!0)})).catch((e=>{console.error(e)}))}else console.log("validate fail")}))}}},y=a(89);const g=(0,y.Z)(b,[["render",f],["__scopeId","data-v-5c0b681b"]]);var h=g},7771:function(e,t,a){a.d(t,{w:function(){return I}});var l=a(3396),n=a(1114);const s=(0,n.J)("v-alert-title");var i=a(5101),o=a(836),r=a(3289),d=a(2370),c=a(9166),p=a(9694),u=a(4544),m=a(2465),v=a(4960),f=a(1629),b=a(5180),y=a(489),g=a(8717),h=a(4231),k=a(1138),C=a(5935),W=a(5221),S=a(4870),V=a(3766),_=a(1107);const N=["success","info","warning","error"],x=(0,V.U)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:v.lE,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>N.includes(e)},...(0,c.l)(),...(0,p.f)(),...(0,u.x)(),...(0,m.c)(),...(0,b.y)(),...(0,y.F)(),...(0,h.I)(),...(0,k.Q)(),...(0,C.x$)(),...(0,W.bk)({variant:"flat"})},"VAlert"),I=(0,_.ev)()({name:"VAlert",props:x(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const c=(0,g.z)(e,"modelValue"),v=(0,l.Fl)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),k=(0,l.Fl)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:V}=(0,C.ER)(e),{colorClasses:_,colorStyles:N,variantClasses:x}=(0,W.c1)(k),{densityClasses:I}=(0,p.t)(e),{dimensionStyles:w}=(0,u.$)(e),{elevationClasses:U}=(0,m.Y)(e),{locationStyles:A}=(0,b.T)(e),{positionClasses:P}=(0,y.K)(e),{roundedClasses:$}=(0,h.b)(e),{textColorClasses:F,textColorStyles:z}=(0,d.rY)((0,S.Vh)(e,"borderColor")),{t:B}=(0,f.bU)(),T=(0,l.Fl)((()=>({"aria-label":B(e.closeLabel),onClick(e){c.value=!1,a("click:close",e)}})));return()=>{const t=!(!n.prepend&&!v.value),a=!(!n.title&&!e.title),d=!(!n.close&&!e.closable);return c.value&&(0,l.Wm)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},V.value,_.value,I.value,U.value,P.value,$.value,x.value,e.class],style:[N.value,w.value,A.value,e.style],role:"alert"},{default:()=>[(0,W.Ux)(!1,"v-alert"),e.border&&(0,l.Wm)("div",{key:"border",class:["v-alert__border",F.value],style:z.value},null),t&&(0,l.Wm)("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?(0,l.Wm)(o.z,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:e.density,icon:v.value,size:e.prominent?44:28}}},n.prepend):(0,l.Wm)(r.t,{key:"prepend-icon",density:e.density,icon:v.value,size:e.prominent?44:28},null)]),(0,l.Wm)("div",{class:"v-alert__content"},[a&&(0,l.Wm)(s,{key:"title"},{default:()=>[n.title?.()??e.title]}),n.text?.()??e.text,n.default?.()]),n.append&&(0,l.Wm)("div",{key:"append",class:"v-alert__append"},[n.append()]),d&&(0,l.Wm)("div",{key:"close",class:"v-alert__close"},[n.close?(0,l.Wm)(o.z,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[n.close?.({props:T.value})]}):(0,l.Wm)(i.T,(0,l.dG)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},T.value),null)])]})}}})},9752:function(e,t,a){a.d(t,{_:function(){return P}});var l=a(3396),n=a(1334),s=a(1332),i=a(6572),o=a(652),r=a(836),d=a(9166),c=a(9694),p=a(4960),u=a(3766),m=a(1107),v=a(9888);const f=(0,u.U)({appendAvatar:String,appendIcon:p.lE,prependAvatar:String,prependIcon:p.lE,subtitle:String,title:String,...(0,d.l)(),...(0,c.f)()},"VCardItem"),b=(0,m.ev)()({name:"VCardItem",props:f(),setup(e,t){let{slots:a}=t;return(0,v.L)((()=>{const t=!(!e.prependAvatar&&!e.prependIcon),n=!(!t&&!a.prepend),d=!(!e.appendAvatar&&!e.appendIcon),c=!(!d&&!a.append),p=!(!e.title&&!a.title),u=!(!e.subtitle&&!a.subtitle);return(0,l.Wm)("div",{class:["v-card-item",e.class],style:e.style},[n&&(0,l.Wm)("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?(0,l.Wm)(r.z,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},a.prepend):t&&(0,l.Wm)(o.V,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),(0,l.Wm)("div",{class:"v-card-item__content"},[p&&(0,l.Wm)(i.E,{key:"title"},{default:()=>[a.title?.()??e.title]}),u&&(0,l.Wm)(s.Q,{key:"subtitle"},{default:()=>[a.subtitle?.()??e.subtitle]}),a.default?.()]),c&&(0,l.Wm)("div",{key:"append",class:"v-card-item__append"},[a.append?(0,l.Wm)(r.z,{key:"append-defaults",disabled:!d,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},a.append):d&&(0,l.Wm)(o.V,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])})),{}}});var y=a(1888),g=a(8694),h=a(2718),k=a(4544),C=a(2465),W=a(6791),S=a(5180),V=a(489),_=a(4231),N=a(6183),x=a(1138),I=a(5935),w=a(5221),U=a(3824);const A=(0,u.U)({appendAvatar:String,appendIcon:p.lE,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:p.lE,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...(0,h.m)(),...(0,d.l)(),...(0,c.f)(),...(0,k.x)(),...(0,C.c)(),...(0,W.fF)(),...(0,S.y)(),...(0,V.F)(),...(0,_.I)(),...(0,N.GN)(),...(0,x.Q)(),...(0,I.x$)(),...(0,w.bk)({variant:"elevated"})},"VCard"),P=(0,m.ev)()({name:"VCard",directives:{Ripple:U.H},props:A(),setup(e,t){let{attrs:a,slots:s}=t;const{themeClasses:i}=(0,I.ER)(e),{borderClasses:o}=(0,h.P)(e),{colorClasses:d,colorStyles:p,variantClasses:u}=(0,w.c1)(e),{densityClasses:m}=(0,c.t)(e),{dimensionStyles:f}=(0,k.$)(e),{elevationClasses:x}=(0,C.Y)(e),{loaderClasses:U}=(0,W.U2)(e),{locationStyles:A}=(0,S.T)(e),{positionClasses:P}=(0,V.K)(e),{roundedClasses:$}=(0,_.b)(e),F=(0,N.nB)(e,a),z=(0,l.Fl)((()=>!1!==e.link&&F.isLink.value)),B=(0,l.Fl)((()=>!e.disabled&&!1!==e.link&&(e.link||F.isClickable.value)));return(0,v.L)((()=>{const t=z.value?"a":e.tag,a=!(!s.title&&!e.title),c=!(!s.subtitle&&!e.subtitle),v=a||c,h=!!(s.append||e.appendAvatar||e.appendIcon),k=!!(s.prepend||e.prependAvatar||e.prependIcon),C=!(!s.image&&!e.image),S=v||k||h,V=!(!s.text&&!e.text);return(0,l.wy)((0,l.Wm)(t,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":B.value},i.value,o.value,d.value,m.value,x.value,U.value,P.value,$.value,u.value,e.class],style:[p.value,f.value,A.value,e.style],href:F.href.value,onClick:B.value&&F.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[C&&(0,l.Wm)("div",{key:"image",class:"v-card__image"},[s.image?(0,l.Wm)(r.z,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},s.image):(0,l.Wm)(g.f,{key:"image-img",cover:!0,src:e.image},null)]),(0,l.Wm)(W.rD,{name:"v-card",active:!!e.loading,color:"boolean"===typeof e.loading?void 0:e.loading},{default:s.loader}),S&&(0,l.Wm)(b,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:s.item,prepend:s.prepend,title:s.title,subtitle:s.subtitle,append:s.append}),V&&(0,l.Wm)(y.Z,{key:"text"},{default:()=>[s.text?.()??e.text]}),s.default?.(),s.actions&&(0,l.Wm)(n.h,null,{default:s.actions}),(0,w.Ux)(B.value,"v-card")]}),[[(0,l.Q2)("ripple"),B.value&&e.ripple]])})),{}}})},1334:function(e,t,a){a.d(t,{h:function(){return r}});var l=a(3396),n=a(9166),s=a(6107),i=a(1107),o=a(9888);const r=(0,i.ev)()({name:"VCardActions",props:(0,n.l)(),setup(e,t){let{slots:a}=t;return(0,s.AF)({VBtn:{variant:"text"}}),(0,o.L)((()=>(0,l.Wm)("div",{class:["v-card-actions",e.class],style:e.style},[a.default?.()]))),{}}})},1332:function(e,t,a){a.d(t,{Q:function(){return n}});var l=a(1114);const n=(0,l.J)("v-card-subtitle")},1888:function(e,t,a){a.d(t,{Z:function(){return n}});var l=a(1114);const n=(0,l.J)("v-card-text")},6572:function(e,t,a){a.d(t,{E:function(){return n}});var l=a(1114);const n=(0,l.J)("v-card-title")},6422:function(e,t,a){a.d(t,{O:function(){return u}});var l=a(3396),n=a(9166),s=a(4357),i=a(3185),o=a(4870),r=a(3766),d=a(1107),c=a(9888);const p=(0,r.U)({...(0,n.l)(),...(0,s.vC)()},"VForm"),u=(0,d.ev)()({name:"VForm",props:p(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=(0,s.Np)(e),d=(0,o.iH)();function p(e){e.preventDefault(),r.reset()}function u(e){const t=e,a=r.validate();t.then=a.then.bind(a),t.catch=a.catch.bind(a),t.finally=a.finally.bind(a),n("submit",t),t.defaultPrevented||a.then((e=>{let{valid:t}=e;t&&d.value?.submit()})),t.preventDefault()}return(0,c.L)((()=>(0,l.Wm)("form",{ref:d,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:p,onSubmit:u},[a.default?.(r)]))),(0,i.F)(r,d)}})},9671:function(e,t,a){a.d(t,{v:function(){return k}});var l=a(3396),n=a(836),s=a(292),i=a(3185),o=a(5180),r=a(489),d=a(8717),c=a(4231),p=a(5975),u=a(5935),m=a(5221),v=a(4870),f=a(3766),b=a(131),y=a(1107),g=a(9888);const h=(0,f.U)({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...(0,o.y)({location:"bottom"}),...(0,r.F)(),...(0,c.I)(),...(0,m.bk)(),...(0,u.x$)(),...(0,b.CE)((0,s.B)({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),k=(0,y.ev)()({name:"VSnackbar",props:h(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const f=(0,d.z)(e,"modelValue"),{locationStyles:b}=(0,o.T)(e),{positionClasses:y}=(0,r.K)(e),{scopeId:h}=(0,p.a)(),{themeClasses:k}=(0,u.ER)(e),{colorClasses:C,colorStyles:W,variantClasses:S}=(0,m.c1)(e),{roundedClasses:V}=(0,c.b)(e),_=(0,v.iH)();(0,l.YP)(f,x),(0,l.YP)((()=>e.timeout),x),(0,l.bv)((()=>{f.value&&x()}));let N=-1;function x(){window.clearTimeout(N);const t=Number(e.timeout);f.value&&-1!==t&&(N=window.setTimeout((()=>{f.value=!1}),t))}function I(){window.clearTimeout(N)}return(0,g.L)((()=>{const[t]=s.y.filterProps(e);return(0,l.Wm)(s.y,(0,l.dG)({ref:_,class:["v-snackbar",{"v-snackbar--active":f.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},y.value,e.class],style:e.style},t,{modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,contentProps:(0,l.dG)({class:["v-snackbar__wrapper",k.value,C.value,V.value,S.value],style:[b.value,W.value],onPointerenter:I,onPointerleave:x},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},h),{default:()=>[(0,m.Ux)(!1,"v-snackbar"),a.default&&(0,l.Wm)("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.default()]),a.actions&&(0,l.Wm)(n.z,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[(0,l.Wm)("div",{class:"v-snackbar__actions"},[a.actions()])]})],activator:a.activator})})),(0,i.F)({},_)}})}}]);
//# sourceMappingURL=28.f3f6c359.js.map